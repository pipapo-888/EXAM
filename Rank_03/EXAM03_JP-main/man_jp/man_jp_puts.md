# PUTS(3) — Linux Programmer's Manual

## 名前
puts — 文字列を標準出力に書き出し、末尾に改行を付加する

## 書式
```c
#include <stdio.h>

int puts(const char *s);
```

## 説明
`puts()` は、`s` が指すヌル終端文字列を標準出力ストリーム (`stdout`) に出力し、続けて改行文字 `\n` を出力する。  
この関数は `fputs(s, stdout)` による出力と同等だが、自動的に改行を付加する点が異なる。  
書き込みエラーが発生すると `EOF` が返され、`errno` にエラー内容が設定される。

`puts()` はスレッドセーフであり、標準出力がバッファリングされている場合には改行時にバッファがフラッシュされる。  
端末に接続されている場合は行バッファリングが有効になるのが一般的である。

## 返り値
正常に完了した場合、非負の値を返す。  
エラーが発生した場合は `EOF`（`-1`）を返し、`errno` にエラー番号が設定される。

## エラー
`EAGAIN`、`EBADF`、`EINTR`、`EIO`、`ENOSPC`、`EPIPE` など、基礎となるストリームまたはファイル記述子の状態により異なる。

## 属性
| インタフェース | 属性 | 値 |
|---|---|---|
| `puts()` | スレッド安全性 | MT-Safe locale |

## 準拠
C89, C99, POSIX.1-2001, POSIX.1-2008 に準拠。

## 注記（NOTES）
- `puts()` は改行を自動的に付加するため、複数行を連続して出力する場合や、明示的に改行制御を行いたい場合には不向きである。  
  そのような用途では `fputs()` を使用すること。
- 出力ストリームがエラー状態になった場合、`ferror(stdout)` が真を返す。
- 標準出力がパイプやリダイレクトで接続されている場合、行バッファリングではなく全バッファリングとなることがある。

## 例
```c
#include <stdio.h>

int main(void) {
    puts("Hello, world!");
    puts("このメッセージの末尾には自動的に改行が追加されます。");
    return 0;
}
```

## 関連項目
`fputs(3)`, `printf(3)`, `fwrite(3)`, `perror(3)`, `ferror(3)`

## コロフォン（COLOPHON）
このページは Linux man-pages プロジェクトの一部である。プロジェクトの説明、バグ報告、および最新版の入手方法については：  
<https://www.kernel.org/doc/man-pages/>

---

## 解説（実務的補足）
- `puts()` はフォーマット展開を行わないため、`printf()` より高速で軽量。  
  単純なテキスト出力やデバッグログなどで有効である。
- 改行を自動付加する特性により、出力整形が制限される場合があるため、整形が必要な場合は `printf()` もしくは `fputs()` を使う。
- 出力先が端末でない場合（例：パイプやファイル）、バッファリング動作が変わるため、`fflush(stdout)` を明示的に呼び出すと安全。
